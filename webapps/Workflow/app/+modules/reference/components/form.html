<form class="form" *ngIf="isReady" #form>
    <header class="content-header">
        <div class="content-actions">
            <button class="btn-back" type="button" title="{{'close' | translate}}" (click)="close($event)">
                <i class="fa fa-chevron-left"></i>
                <span>{{'close' | translate}}</span>
            </button>
            <button class="btn btn-primary" type="button" *ngIf="canSave" [disabled]="!isValid" (click)="submit(form)">
                {{'save_close' | translate}}
            </button>
            <div *ngIf="canDelete" dropdown class="buttons" [tabIndex]="-1">
                <div dropdown-toggle>
                    <span class="btn">...</span>
                </div>
                <div class="dropdown-menu">
                    <ul class="menu">
                        <li>
                            <a class="menu-item" (click)="delete()">{{'delete' | translate}}</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <h1 class="header-title">{{title | translate}}</h1>
    </header>
    <section class="content-body">
        <tabs>
            <tab class="tab-pane" tabTitle="{{tab.tabTitle | translate}}" [active]="tab.active" *ngFor="let tab of formSchema">
                <section class="fieldset" *ngFor="let fieldset of tab.fieldsets">
                    <div class="legend" *ngIf="fieldset.title">{{fieldset.title | translate}}</div>
                    <div class="form-group" *ngFor="let field of fieldset.fields">
                        <div class="control-label">
                            {{field.label | translate}}
                        </div>
                        <div class="controls">
                            <input [type]="field.type" [name]="field.name" [value]="model[field.name]" [class]="field.className" />
                        </div>
                    </div>
                </section>
            </tab>
        </tabs>
    </section>
</form>
